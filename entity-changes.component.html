<div class="container mt-3">

  <!-- Breadcrumb at the top left -->
  <nav aria-label="breadcrumb" class="mb-3">
    <ol class="breadcrumb bg-transparent p-0 mb-0">
      <li class="breadcrumb-item d-flex align-items-center">
        <i class="bi bi-wrench me-1 text-secondary"></i>
        <a href="#" class="text-decoration-none">Administration</a>
      </li>
      <li class="breadcrumb-item active d-flex align-items-center" aria-current="page">
        <i class="bi bi-file-earmark-text me-1 text-secondary"></i>
        Audit Logs
      </li>
    </ol>
  </nav>

  <!-- Page Title -->
  <div class="d-flex align-items-center mb-2">
    <h2 class="audit-logo fw-bold">Audit Logs</h2>
  </div>

  <!-- Navbar Tabs -->
  <nav class="navbar mb-4">
    <div class="container-fluid d-flex justify-content-start gap-4">
      <a class="nav-link" routerLink="/Auditlogs" routerLinkActive="active-link">Audit Logs</a>
      <a class="nav-link" routerLink="/entitychanges" routerLinkActive="active-link">Entity Changes</a>
    </div>
  </nav>

  <!-- Filters -->
  <div class="mt-3 mb-4">
    <div class="row g-3 align-items-end">
      <div class="col-md-3">
        <label class="form-label">Time</label>
        <input type="date" class="form-control" [(ngModel)]="filters.startDate" />
      </div>

      <div class="col-md-3">
        <label class="form-label">Change Type</label>
        <select class="form-select" [(ngModel)]="filters.changeType">
          <option value="">Select</option>
          <option *ngFor="let type of changeTypes" [value]="type">{{ type }}</option>
        </select>
      </div>

      <div class="col-md-3">
        <label class="form-label">Entity Type Full Name</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="filters.entityType"
          placeholder="Enter entity type"
        />
      </div>

      <div class="col-md-3 d-grid">
        <button class="btn btn-primary btn-refresh" (click)="search()">Refresh</button>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table border-0">
      <thead class="table-light">
        <tr>
          <th>Detail</th>
          <th>Time</th>
          <th>Change Type</th>
          <th>Tenant ID</th>
          <th>Entity Type Full Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let log of logs">
          <td>{{ log.action }}</td>
          <td>{{ log.date }}</td>
          <td>{{ log.changeType }}</td>
          <td>{{ log.tenantId || '-' }}</td>
          <td>{{ log.entityType }}</td>
        </tr>
        <tr *ngIf="logs.length === 0">
          <td colspan="5" class="text-center">No data available</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Total Rows -->
  <div class="mt-2">
    <small class="text-muted">{{ logs.length }} total</small>
  </div>

</div>
